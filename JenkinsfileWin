#!/usr/bin/env groovy
// Liquibase pipeline
//
pipeline {
  agent {
    node {
      label 'Liquibase'
    }
  }

  environment {
  PROJ="CLO"
  GITURL="https://github.com/szandany"
  ENVIRONMENT_STEP="${params.step}"
  BRANCH="${params.pipeline}"
  PATH="C:\\apps\\liquibase;C:\\apps\\Git\\cmd;${PATH}"
  }
  stages {

    stage ('Precheck') {
        steps {
            deleteDir()
            bat '''
            echo "Current project: "%PROJ%
            echo "Current scm branch: "%BRANCH%
            echo "Current environment: "%ENVIRONMENT_STEP%
            '''

        } // steps
    } // stage 'precheck'

  }   // stages
}     // pipeline
